"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var BrowserRouter=window.ReactRouterDOM.BrowserRouter,Route=window.ReactRouterDOM.Route,Link=window.ReactRouterDOM.Link,Prompt=window.ReactRouterDOM.Prompt,Switch=window.ReactRouterDOM.Switch,Redirect=window.ReactRouterDOM.Redirect,NavLink=window.ReactRouterDOM.NavLink,url="/portfolio/subpages/movieDB",Main=function(e){function t(){var e;_classCallCheck(this,t);var r=_assertThisInitialized(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)));return e.state={selectedMovie:0,APIkey:"af5f703a01558c668641ad32f7825152",currentPage:1,itemsPerPage:6,APIresults:[{q:"1",r:"placeholder text 1"},{q:"2",r:"placeholder text 2"}],setState:function(e){r.setState(e)}},e}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){var e="https://api.themoviedb.org/3/movie/popular?api_key="+this.state.APIkey+"&language=en-US&page=1",t=new XMLHttpRequest;t.onload=function(e){var r=JSON.parse(t.response).results;this.setState({APIresults:r})}.bind(this),t.onerror=function(){alert("Unable to load API data")},t.open("GET",e),t.send()}},{key:"render",value:function(){var e=this;return React.createElement("div",null,React.createElement(HeaderBar,null),React.createElement("div",{className:"mainContent"},React.createElement(Switch,null,React.createElement(Route,{path:url+"/movieHomepage",render:function(){return React.createElement(MovieHomepage,{passedState:e.state})}}),React.createElement(Route,{path:url+"/movieDetails",render:function(){return React.createElement(MovieDetails,{passedState:e.state})}}),"// Displays a default component onLoad",React.createElement(Route,{path:"*",render:function(){return React.createElement(MovieHomepage,{passedState:e.state})}}))))}}]),t}(),HeaderBar=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"headerBar"},React.createElement("span",null,React.createElement(Link,{to:url+"/movieHomepage"},"Home")))}}]),t}(),MovieHomepage=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).changePage=e.changePage.bind(_assertThisInitialized(e)),e}return _inherits(t,React.Component),_createClass(t,[{key:"changePage",value:function(e){e.target.id!=this.props.passedState.currentPage&&(this.props.passedState.setState({currentPage:Number(e.target.id)}),window.scrollTo(0,0))}},{key:"render",value:function(){for(var e=this,t=this.props.passedState.currentPage*this.props.passedState.itemsPerPage,r=t-this.props.passedState.itemsPerPage,a=this.props.passedState.APIresults.slice(r,t).map(function(t,r){return React.createElement(Link,{to:url+"/movieDetails?title="+t.title},React.createElement(MovieCard,{movieTitle:t.title,imagePath:t.poster_path,movieID:r+(e.props.passedState.currentPage-1)*e.props.passedState.itemsPerPage,key:t.id,passedState:e.props.passedState}))}),n=[],o=1;o<=Math.ceil(this.props.passedState.APIresults.length/this.props.passedState.itemsPerPage);o++)n.push(o);var s=n.map(function(t){if(t==e.props.passedState.currentPage)var r="currentPageNumber";else r="";return React.createElement("span",{className:r,key:t,id:t,onClick:e.changePage},t)});return React.createElement("div",null,a,React.createElement("div",{className:"pageNumberContainer"},s))}}]),t}(),MovieDetails=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){var e=this.props.passedState.APIresults[this.props.passedState.selectedMovie];return React.createElement("div",{className:"movieDetailsPage"},React.createElement("img",{className:"movieCardImage",src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:this.props.movieTitle}),React.createElement("div",null," ",e.title," "),React.createElement("div",null," Release date: ",e.release_date," "),React.createElement("div",null," Rating: ",e.vote_average," / 10 "),React.createElement("div",null," ",e.overview," "))}}]),t}(),MovieCard=function(e){function t(){var e,r;_classCallCheck(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return _defineProperty(_assertThisInitialized(r=_possibleConstructorReturn(this,(e=_getPrototypeOf(t)).call.apply(e,[this].concat(n)))),"selectMovie",function(){r.props.passedState.setState({selectedMovie:r.props.movieID}),window.scrollTo(0,0)}),r}return _inherits(t,React.Component),_createClass(t,[{key:"render",value:function(){return React.createElement("span",{className:"MovieCard",onClick:this.selectMovie},React.createElement("img",{className:"movieCardImage",src:"https://image.tmdb.org/t/p/w300"+this.props.imagePath,alt:this.props.movieTitle}),React.createElement("span",{className:"movieTitle"},this.props.movieTitle))}}]),t}();ReactDOM.render(React.createElement(BrowserRouter,null,React.createElement(Main,null)),reactRootDiv);